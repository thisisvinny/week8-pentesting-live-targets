# Project 8 - Pentesting Live Targets

Time spent: **5** hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

Vulnerability #1: SQL Injection

The id number of a salesperson in the URL is not being sanitized before being used in a SQL query. If I change the id number to a SQL query, I will get an appropriate response, such as when I query id=1' and '0'='1 (which always evaluates false), the database will not find the salesperson with id=1. In addition, the site gives me a database query error if I input an invalid SQL statement.

![](https://github.com/thisisvinny/week8-pentesting-live-targets/blob/master/SQL_Injection_Blue.gif)

Vulnerability #2: Session Hiacking/Fixation

My host machine was logged in as staff. My KaliVM was not logged in. By taking the session ID of the logged in staff, the non-logged in user was able to access the Staff Menu.

![](https://github.com/thisisvinny/week8-pentesting-live-targets/blob/master/Session_Hijacking_Blue.gif)


## Green

Vulnerability #1: Username Enumeration

The response from the login page is different for failed logins using valid usernames as opposed to invalid usernames. For a valid username, such as "jmonroe99", the error is in bold. In addition, the class of the span is "failure". For invalid usernames, such as "thisuernamecannotbetaken", the error is not in bold, and the class of the span is "failed".

![](https://github.com/thisisvinny/week8-pentesting-live-targets/blob/master/Username_Enumeration_Green.gif)

Vulnerability #2: Cross-Site Scripting (XSS)

By writing JavaScript code in a feedback submission, when an admin goes to view the feedback later, the JavaScript code will execute.

![](https://github.com/thisisvinny/week8-pentesting-live-targets/blob/master/Cross_Site_Scripting_Green.gif)


## Red

Vulnerability #1: Insecure Direct Object Reference (IDOR)

Each salesperson is associated with an id number. By changing the id number in the URL (in this case id=10 and id=11), we can access private information about salespeople that either should not be public or listed. The other two sites correctly prevent this by redirecting to the "Find a Salesperson" page when trying to access private pages.

![](https://github.com/thisisvinny/week8-pentesting-live-targets/blob/master/Insecure_Direct_Object_Reference_Red.gif)

Vulnerability #2: Cross-Site Request Forgery (CSRF)

The Staff area in Red does not have CSRF protection. By changing the csrf token and submitting form data, the page will accept the POST request regardless of the csrf token. The other two sites reject the new form data.

![](https://github.com/thisisvinny/week8-pentesting-live-targets/blob/master/Cross_Site_Request_Forgery_Red.gif)


## Notes

Describe any challenges encountered while doing the work
